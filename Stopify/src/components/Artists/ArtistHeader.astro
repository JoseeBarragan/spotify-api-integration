---
import { Image } from 'astro:assets';
import type { Artist } from "@/types/apiTypes";
import { FollowersFormat } from "../../utils/followersFormat.ts"

const { imgUrl, color, artist } = Astro.props as {
    imgUrl: string,
    color: string,
    artist: Artist
};


---

<div class="relative w-full min-h-fit overflow-hidden">
    <img
        src={imgUrl}
        alt={artist.name}
        fetchpriority="high"
        decoding="async"
        class="absolute inset-0 w-full h-full object-cover scale-110 opacity-60 blur-xl"
    />
    <div 
        class="absolute inset-0"
        style={`background: linear-gradient(to bottom, ${color}80, #111);`}
    ></div>

    <div class="relative z-10 flex items-end gap-6 p-8">
        <Image
            src={imgUrl}
            alt={artist.name}
            width={192}
            height={192}
            class="rounded-md shadow-xl object-cover"
        />

        <div class="flex flex-col gap-3">
            <div class="flex gap-3 items-center">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="11" fill="#3D91F4"/>
                    <path fill="#fff" d="M16.59 7.58a1 1 0 0 1 .15 1.41l-5.03 6.28a1 
                        1 0 0 1-1.48.08l-2.67-2.67a1 1 0 1 1 1.41-1.41l1.94 1.94 
                        4.32-5.39a1 1 0 0 1 1.41-.24z"/>
                </svg>
                <h1 class="text-white text-xs">Artista Verificado</h1>
            </div>

            <h1 class="text-5xl font-bold text-white">{artist.name}</h1>
            <h1 class="text-sm text-white">
                {FollowersFormat(artist.followers.total)} oyentes mensuales
            </h1>
        </div>

    </div>

</div>
